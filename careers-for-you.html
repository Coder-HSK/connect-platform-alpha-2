<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Careers For You | CONNEX</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* --- Base & Theme Background --- */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0a192f;
      background-image:
        radial-gradient(circle at 15% 25%, rgba(42, 92, 199, 0.3) 0%, rgba(42, 92, 199, 0) 40%),
        radial-gradient(circle at 85% 75%, rgba(42, 92, 199, 0.3) 0%, rgba(42, 92, 199, 0) 40%),
        radial-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px);
      background-size: 100% 100%, 100% 100%, 10px 10px;
      background-attachment: fixed;
      color: #ffffff;
      min-height: 100vh;
    }

    /* --- Navbar --- */
    .navbar {
      background: rgba(10, 25, 47, 0.5);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 1rem 0;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .navbar .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    .logo h1 { margin: 0; }
    .logo a {
      font-size: 1.5rem;
      font-weight: 700;
      color: #ffffff;
      text-decoration: none;
    }
    .nav-links {
      display: flex;
      list-style: none;
      gap: 1.5rem;
    }
    .nav-links a {
      color: #e0e0e0;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    .nav-links a:hover { color: #ffffff; }
    .btn-primary {
      background-color: #007aff;
      color: #ffffff;
      text-decoration: none;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-weight: 600;
      transition: background-color 0.3s ease;
    }
    .btn-primary:hover { background-color: #0056b3; }

    /* --- Glassmorphism Card --- */
    .glass-card {
      background: rgba(25, 41, 70, 0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
      border-radius: 16px;
      transition: all 0.3s ease;
      height: 100%; /* For grid layout */
    }
    .glass-card-hover:hover {
        transform: translateY(-5px);
        background: rgba(25, 41, 70, 0.6);
        border-color: rgba(255, 255, 255, 0.3);
    }
    
    /* --- Form Inputs (for filters) --- */
    .form-input {
        background-color: rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: #ffffff;
        border-radius: 8px;
    }
    .form-input::placeholder { color: #a0a0a0; }
    .form-input:focus {
        border-color: #007aff;
        background-color: rgba(0, 0, 0, 0.3);
        box-shadow: none;
        outline: none;
    }
    
    /* --- Page-Specific Styles --- */
    .section-title {
        font-size: 1.75rem;
        font-weight: 600;
        color: #ffffff;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid rgba(0, 122, 255, 0.5);
    }
    
    /* Demand Tags */
    .demand-tag {
        font-size: 0.8rem;
        font-weight: 600;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .demand-very-high { background-color: rgba(22, 163, 74, 0.3); color: #4ade80; } /* Green */
    .demand-high { background-color: rgba(59, 130, 246, 0.3); color: #93c5fd; } /* Blue */
    .demand-moderate { background-color: rgba(234, 179, 8, 0.3); color: #fde047; } /* Yellow */
    .demand-low { background-color: rgba(220, 38, 38, 0.3); color: #fca5a5; } /* Red */
    
    /* Career Card Skill List */
    .skill-list li {
        background-color: rgba(0, 122, 255, 0.15);
        color: #ade8ff;
        padding: 0.25rem 0.6rem;
        border-radius: 8px;
        font-size: 0.85rem;
        font-weight: 500;
    }
    
    /* Trending Card Growth Icon */
    .growth-icon {
        font-size: 1.5rem;
    }
    
    /* Footer */
    .footer {
      margin-top: 3rem;
      padding: 2rem 0;
      background: rgba(10, 25, 47, 0.3);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      color: #c5c5c5;
    }
  </style>
</head>
<body class="flex flex-col">

  <nav class="navbar">
    <div class="container">
      <div class="logo">
        <h1><a href="Student-dashboard.html" class="logo">CONNEX</a></h1>
      </div>
      <ul class="nav-links">
        <li><a href="Student-dashboard.html">Home</a></li>
        <li><a href="#premium">Premium</a></li>
      </ul>
      <div class="cta-button">
        <a href="account.html" class="btn-primary">Account</a>
      </div>
    </div>
  </nav>

  <main class="w-full max-w-6xl mx-auto p-4 md:p-8">
  
    <header class="text-center text-white mb-10">
        <h1 class="text-3xl md:text-4xl font-bold">Careers For You</h1>
        <p class="text-lg text-gray-400 mt-2">Explore career paths based on your interests and see what's trending.</p>
    </header>
    
    <div id="gatekeeper-message" class="glass-card p-8 text-center hidden">
        <h2 class="text-2xl font-bold text-white mb-4">No Interests Selected</h2>
        <p class="text-gray-300 mb-6">This page is powered by your career interests. Please update your profile to see recommendations.</p>
        <a href="account.html" class="btn-primary">Go to My Account</a>
    </div>
    
    <div id="main-content">

        <div class="glass-card p-4 mb-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <input type="text" id="search-bar" placeholder="Search by career, skill, or role..." class="form-input md:col-span-2 p-3">
                <select id="filter-demand" class="form-input p-3">
                    <option value="all">All Market Demands</option>
                    <option value="very high">Very High Demand</option>
                    <option value="high">High Demand</option>
                    <option value="moderate">Moderate Demand</option>
                </select>
                <button id="filter-reset" class="bg-gray-600 text-white p-3 rounded-lg font-semibold hover:bg-gray-700">Reset</button>
            </div>
        </div>

        <section class="mb-12">
            <h2 class="section-title">Your Career Tracks</h2>
            <div id="career-tracks-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                </div>
            <p id="career-tracks-empty" class="text-gray-400 text-center hidden">No careers match your current filters.</p>
        </section>

        <section id="ranked-recommendations-section" class="mb-12 hidden">
            <h2 class="section-title">Ranked Recommendations</h2>
            <div id="ranked-recommendations" class="glass-card p-6">
                </div>
        </section>

        <section class="mb-12">
            <h2 class="section-title">Trending Careers Right Now</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <div class="glass-card glass-card-hover p-6 flex flex-col">
                    <div class="flex-grow">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-xl font-bold text-white">AI/ML Engineer</h3>
                            <span class="growth-icon" title="Rising Fast">↑</span>
                        </div>
                        <p class="text-sm text-gray-400 mb-4">Why it's trending: Driving innovation in every industry, from chatbots to autonomous driving.</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-300 font-medium">Avg. Entry Salary (Approx)</p>
                        <p class="text-xl font-bold text-green-400">$110,000 - $145,000</p>
                    </div>
                </div>

                <div class="glass-card glass-card-hover p-6 flex flex-col">
                    <div class="flex-grow">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-xl font-bold text-white">Cybersecurity Analyst</h3>
                            <span class="growth-icon" title="Rising Fast">↑</span>
                        </div>
                        <p class="text-sm text-gray-400 mb-4">Why it's trending: Critical need to protect data from increasing and sophisticated digital threats.</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-300 font-medium">Avg. Entry Salary (Approx)</p>
                        <p class="text-xl font-bold text-green-400">$75,000 - $110,000</p>
                    </div>
                </div>
                
                <div class="glass-card glass-card-hover p-6 flex flex-col">
                    <div class="flex-grow">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-xl font-bold text-white">Cloud Engineer</h3>
                            <span class="growth-icon" title="Steady Growth">↔</span>
                        </div>
                        <p class="text-sm text-gray-400 mb-4">Why it's trending: Companies continue to migrate services to AWS, Azure, and GCP for scalability.</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-300 font-medium">Avg. Entry Salary (Approx)</p>
                        <p class="text-xl font-bold text-green-400">$90,000 - $125,000</p>
                    </div>
                </div>
            </div>
        </section>
        
    </div> </main>

  <footer class="footer">
    <div class="container footer-content">
        <div class="footer-section">
          <h3>CONNEX</h3>
          <p>Building bridges between students and professionals.</p>
        </div>
        <div class="footer-section">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="Student-dashboard.html">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">How It Works</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Project by:</h4>
          <ul>
            <li>Hitendra Annavarapu</li>
            <li>Mahadi Ibrahim</li>
            <li>Quin Curry</li>
            <li>Charan Suguri</li>
          </ul>
        </div>
    </div>
  </footer>

  <script>
    // --- 1. MOCK DATABASE ---
    // This object holds all career data.
    const allCareerData = {
        'Software Engineer': {
            name: 'Software Engineer',
            description: 'Designs, builds, and maintains software applications. This broad field can involve anything from mobile apps to large-scale enterprise systems.',
            demand: 'very high',
            roles: ['Backend Developer', 'Frontend Developer', 'Mobile Dev (iOS/Android)', 'SDE Intern', 'Full Stack Developer'],
            skills: ['Data Structures', 'Algorithms', 'Git', 'One Programming Language (e.g., Python, Java, C++, JS)'],
            projects: [
                'Build a personal portfolio website with a blog.',
                'Create a full-stack web app (e.g., a to-do list or social media clone).',
                'Develop a simple mobile app (e.g., a weather app).'
            ],
            ranking: [
                { name: 'Full Stack Developer', fit: 'Best Fit', reason: 'High demand, combines front-end and back-end skills.' },
                { name: 'Backend Developer', fit: 'Great Fit', reason: 'Focuses on server-side logic and databases, a core SWE skill.' },
                { name: 'Cloud/DevOps Engineer', fit: 'Good Fit', reason: 'Manages the infrastructure that runs the software.' },
                { name: 'QA/Testing Engineer', fit: 'Good Fit', reason: 'Ensures software quality, a great entry point.' }
            ]
        },
        'Data Analyst': {
            name: 'Data Analyst',
            description: 'Collects, processes, and performs statistical analyses of data. They turn raw numbers into actionable insights for businesses.',
            demand: 'high',
            roles: ['Business Analyst Intern', 'Junior Data Analyst', 'Reporting Analyst', 'BI Analyst'],
            skills: ['SQL', 'Excel / Spreadsheets', 'Python (Pandas)', 'Tableau / Power BI'],
            projects: [
                'Analyze movie data to find trends in genre and profitability.',
                'Create an interactive sales dashboard in Tableau or Power BI.',
                'Perform customer churn analysis on a sample dataset.'
            ],
            ranking: [
                { name: 'Data Analyst', fit: 'Best Fit', reason: 'The direct path for your stated interest.' },
                { name: 'Business Analyst', fit: 'Great Fit', reason: 'Focuses more on business processes, using data to make recommendations.' },
                { name: 'BI (Business Intelligence) Analyst', fit: 'Good Fit', reason: 'Specializes in creating dashboards and reports.' },
                { name: 'Junior Data Engineer', fit: 'Related Path', reason: 'Focuses on building the data pipelines, more technical.' }
            ]
        },
        'Cybersecurity': {
            name: 'Cybersecurity Analyst',
            description: 'Protects computer systems and networks from security breaches and cyber threats. Involves monitoring, incident response, and vulnerability testing.',
            demand: 'very high',
            roles: ['SOC Analyst (Tier 1)', 'Security Intern', 'Vulnerability Tester', 'IT Security Specialist'],
            skills: ['Network Fundamentals (TCP/IP)', 'Linux/Unix', 'Wireshark', 'Scripting (Python/Bash)'],
            projects: [
                'Set up a home network lab with a firewall (e.g., pfSense).',
                'Participate in a "Capture The Flag" (CTF) competition.',
                'Analyze malware samples in a safe virtual machine environment.'
            ],
            ranking: [
                { name: 'SOC Analyst', fit: 'Best Fit', reason: 'The most common entry-level role, monitoring for threats.' },
                { name: 'Penetration Tester', fit: 'Great Fit', reason: 'Focuses on "ethical hacking" to find vulnerabilities.' },
                { name: 'IT Auditor', fit: 'Good Fit', reason: 'Focuses on compliance and policy, less hands-on technical.' }
            ]
        }
    };
    
    // Demand tag CSS classes
    const demandClasses = {
        'very high': 'demand-very-high',
        'high': 'demand-high',
        'moderate': 'demand-moderate',
        'low': 'demand-low'
    };

    // --- 2. JAVASCRIPT LOGIC ---
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- Get all DOM elements ---
        const gatekeeperMsg = document.getElementById('gatekeeper-message');
        const mainContent = document.getElementById('main-content');
        const tracksGrid = document.getElementById('career-tracks-grid');
        const tracksEmptyMsg = document.getElementById('career-tracks-empty');
        const rankedSection = document.getElementById('ranked-recommendations-section');
        const rankedContent = document.getElementById('ranked-recommendations');
        
        // Filters
        const searchBar = document.getElementById('search-bar');
        const demandFilter = document.getElementById('filter-demand');
        const filterReset = document.getElementById('filter-reset');

        // --- Get student interests from localStorage ---
        // We use 'studentSkills' as this is what sign-up-studnets.html saves
        const studentInterests = localStorage.getItem('studentSkills') || '';
        const interestsArray = studentInterests ? studentInterests.split(',').map(s => s.trim().toLowerCase()) : [];
        
        // --- Gatekeeper Logic ---
        if (interestsArray.length === 0 || interestsArray[0] === '') {
            gatekeeperMsg.classList.remove('hidden');
            mainContent.classList.add('hidden');
            return; // Stop executing if no interests
        }

        // --- Render Main Career Cards ---
        let hasCards = false;
        for (const [key, career] of Object.entries(allCareerData)) {
            // Check if the student's interests include this career
            // This is a flexible check (e.g., "Software Engineer" in localStorage matches)
            if (interestsArray.some(interest => key.toLowerCase().includes(interest))) {
                hasCards = true;
                const cardHTML = createCareerCard(career);
                tracksGrid.insertAdjacentHTML('beforeend', cardHTML);
            }
        }
        
        // --- Render Ranked Recommendations ---
        let hasRankings = false;
        for (const [key, career] of Object.entries(allCareerData)) {
            if (interestsArray.some(interest => key.toLowerCase().includes(interest))) {
                hasRankings = true;
                const rankingHTML = createRankingList(career);
                rankedContent.insertAdjacentHTML('beforeend', rankingHTML);
            }
        }
        if (hasRankings) {
            rankedSection.classList.remove('hidden');
        }

        // --- Add Filter & Search Listeners ---
        searchBar.addEventListener('input', runFilters);
        demandFilter.addEventListener('change', runFilters);
        filterReset.addEventListener('click', () => {
            searchBar.value = '';
            demandFilter.value = 'all';
            runFilters();
        });

        // --- 3. HELPER FUNCTIONS ---
        
        function runFilters() {
            const searchText = searchBar.value.toLowerCase();
            const demandValue = demandFilter.value;
            let visibleCount = 0;
            
            const allCards = tracksGrid.querySelectorAll('.career-card');
            
            allCards.forEach(card => {
                const title = card.dataset.title.toLowerCase();
                const demand = card.dataset.demand;
                const roles = card.dataset.roles.toLowerCase();
                const skills = card.dataset.skills.toLowerCase();

                // Search check
                const searchMatch = (
                    title.includes(searchText) || 
                    roles.includes(searchText) || 
                    skills.includes(searchText)
                );
                
                // Demand check
                const demandMatch = (demandValue === 'all' || demand === demandValue);

                if (searchMatch && demandMatch) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Show/hide the "no results" message
            tracksEmptyMsg.style.display = (visibleCount === 0) ? 'block' : 'none';
        }

        /**
         * Generates HTML for one main career card
         */
        function createCareerCard(career) {
            return `
            <div class="career-card glass-card glass-card-hover p-6 flex flex-col" 
                 data-title="${career.name}" 
                 data-demand="${career.demand}"
                 data-roles="${career.roles.join(', ')}"
                 data-skills="${career.skills.join(', ')}">
                
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-2xl font-bold text-white">${career.name}</h3>
                    <span class="demand-tag ${demandClasses[career.demand]}">${career.demand.replace('-', ' ')}</span>
                </div>
                <p class="text-gray-300 text-sm mb-4 flex-grow">${career.description}</p>

                <h4 class="font-semibold text-white mb-2">What You Can Apply For:</h4>
                <p class="text-sm text-gray-400 mb-4">${career.roles.join(', ')}</p>
                
                <h4 class="font-semibold text-white mb-2">Required Core Skills:</h4>
                <ul class="skill-list flex flex-wrap gap-2 mb-4">
                    ${career.skills.map(skill => `<li>${skill}</li>`).join('')}
                </ul>
                
                <h4 class="font-semibold text-white mb-2">Recommended Projects:</h4>
                <ul class="list-disc list-inside text-sm text-gray-300 mb-6">
                    ${career.projects.map(proj => `<li>${proj}</li>`).join('')}
                </ul>
                
                <a href="#" class="btn-primary text-center mt-auto">Learn More</a>
            </div>
            `;
        }
        
        /**
         * Generates HTML for one ranked recommendation list
         */
        function createRankingList(career) {
            let html = `<h3 class="text-xl font-bold text-white mb-4">Recommendations for ${career.name}:</h3>`;
            html += '<div class="space-y-4">';
            
            career.ranking.forEach(rank => {
                html += `
                <div class="p-4 rounded-lg" style="background-color: rgba(0,0,0,0.2);">
                    <h4 class="font-semibold text-lg text-white">${rank.name} <span class="text-sm font-medium text-green-400">(${rank.fit})</span></h4>
                    <p class="text-sm text-gray-300">${rank.reason}</p>
                </div>
                `;
            });
            
            html += '</div><hr class="border-gray-700 my-6">'; // Add a separator
            return html;
        }

    });
  </script>

</body>
</html>